<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>个人信息页面</title>
	</head>
	<style>
		fieldset{margin: 10px;}
		legend{color: #DD0000;}
	</style>
	<body>
		<h1>请填写个人信息</h1>
		<fieldset>
			<legend>基本信息</legend>
			姓名<input type="text" placeholder="请输入姓名" name="names" />*
			<br />
			年龄<input type="number" name="age" value="20" min="16" max="100" step="1" />
		</fieldset>
		<fieldset>
			<legend>你想在哪里收到邮件？</legend>
			邮箱<input type="text" name="email" placeholder="请输入邮箱" autocomplete="on" list="emails" id="einput" />*
			<datalist id="emails">
				<option>@qq.com</option>
				<option>@163.com</option>
				<option>@gmail.com</option>
				<option>@yahoo.com</option>
				<option>@126.com</option>
			</datalist>
		</fieldset>
		<fieldset>
			<legend>收入情况</legend>
			月收入
			<select>
				<option>5k</option>
				<option>10k</option>
				<option>15k</option>
				<option selected="selected">20k+</option>
			</select>
			<br />
			银行卡<input type="text" />
			有效期<input type="time" />
		</fieldset>
		<fieldset>
			<legend>选取提交文件</legend>
			文件<input type="file" />
		</fieldset>
		<input type="submit" />
	</body>
	<script>
		var einput = document.getElementById('einput');
		var emails = document.getElementById('emails');
		var options = emails.getElementsByTagName('option');
		var initValue = [];
		for(var i = 0;i < options.length;i++) {
			initValue[i] = options[i].value;
		}
		einput.onkeyup = function(e){
//			console.log(e.keyCode);
			if(/@/.test(einput.value)) {
				emails.style.display = "none";
			}else{
				for(var i = 0;i < options.length;i++) {
					options[i].value = initValue[i];
					options[i].value = einput.value + options[i].value;
				}
			}
		}
	</script>
</html>
